<!DOCTYPE html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
--><html lang="en" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Playing with Podman crun backends: Wasm(Edge) and libkrun - GitOps</title>
<meta name="description" content="Thanks to crun we can run WebAssembly (Wasm) and libkrun workloads in directly in Podman. $ podman info | grep crun -A 2     name: crun     package: crun-1.19.1-1.fc41.x86_64     path: /usr/bin/crun     version: |-       crun version 1.19.1       commit: 3e32a70c93f5aa5fea69b50256cca7fd4aa23c80       rundir: /run/user/1000/crun       spec: 1.0.0       +SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +CRIU +LIBKRUN +WASM:wasmedge +YAJL">


  <meta name="author" content="Jose Castillo Lema">
  
  <meta property="article:author" content="Jose Castillo Lema">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="GitOps">
<meta property="og:title" content="Playing with Podman crun backends: Wasm(Edge) and libkrun">
<meta property="og:url" content="https://josecastillolema.github.io/podman-wasm-libkrun/">


  <meta property="og:description" content="Thanks to crun we can run WebAssembly (Wasm) and libkrun workloads in directly in Podman. $ podman info | grep crun -A 2     name: crun     package: crun-1.19.1-1.fc41.x86_64     path: /usr/bin/crun     version: |-       crun version 1.19.1       commit: 3e32a70c93f5aa5fea69b50256cca7fd4aa23c80       rundir: /run/user/1000/crun       spec: 1.0.0       +SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +CRIU +LIBKRUN +WASM:wasmedge +YAJL">



  <meta property="og:image" content="https://josecastillolema.github.io/assets/images/favicon_io/android-chrome-512x512.png">





  <meta property="article:published_time" content="2025-01-02T00:00:00-06:00">



  <meta property="article:modified_time" content="2025-01-02T00:00:00-06:00">




<link rel="canonical" href="https://josecastillolema.github.io/podman-wasm-libkrun/">







  <meta name="google-site-verification" content="googled48a6d8a28aaa375.html">






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="GitOps Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="shortcut icon" type="image/png" href="/assets/images/favicon.ico">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/favicon_io/android-chrome-192x192.png" alt="GitOps"></a>
        
        <a class="site-title" href="/">
          GitOps
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/series/">series</a>
            </li>
<li class="masthead__menu-item">
              <a href="/classes/">classes</a>
            </li>
<li class="masthead__menu-item">
              <a href="/talks/">talks</a>
            </li>
<li class="masthead__menu-item">
              <a href="/tags/">tags</a>
            </li>
<li class="masthead__menu-item">
              <a href="/about/">about</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <script lang="javascript" src="/assets/js/vanilla-back-to-top.min.js"></script>
    <script>addBackToTop({
      backgroundColor: '#6F777D',
      textColor: '#fff'
    })</script>

    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://josecastillolema.github.io/">
        <img src="/assets/images/me.jpg" alt="Jose Castillo Lema" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://josecastillolema.github.io/" itemprop="url">Jose Castillo Lema</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Software Engineer @ <strong>RedHat</strong></p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Santiago, Spain</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/josecastillolema" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/jose-castillo-lema" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://www.youracclaim.com/users/jose-castillo-lema" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-angle-double-up" aria-hidden="true"></i><span class="label">Acclaim</span></a></li>
          
        
          
            <li><a href="https://stackoverflow.com/users/4288758/jos%c3%a9-castillo-lema" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-stack-overflow" aria-hidden="true"></i><span class="label">StackOverflow</span></a></li>
          
        
          
            <li><a href="https://www.researchgate.net/profile/Jose_Castillo-Lema" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-researchgate" aria-hidden="true"></i><span class="label">ResearchGate</span></a></li>
          
        
          
            <li><a href="https://scholar.google.com.br/citations?user=_xNpHiwAAAAJ" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-google" aria-hidden="true"></i><span class="label">GoogleScholar</span></a></li>
          
        
          
            <li><a href="https://www.opennetworking.org/ambassadors/jose-castillo-lema/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-battle-net" aria-hidden="true"></i><span class="label">ONF</span></a></li>
          
        
          
            <li><a href="https://www.youtube.com/channel/UCm5egt_lHxJX-VQdkLPszog/playlists" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-youtube-square" aria-hidden="true"></i><span class="label">YouTube</span></a></li>
          
        
          
            <li><a href="https://josecastillolema.github.io/feed.xml" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i><span class="label">RSS</span></a></li>
          
        
          
            <li><a href="mailto:josecastillolema@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Playing with Podman crun backends: Wasm(Edge) and libkrun">
    <meta itemprop="description" content="Thanks to crun we can run WebAssembly (Wasm) and libkrun workloads in directly in Podman.$ podman info | grep crun -A 2    name: crun    package: crun-1.19.1-1.fc41.x86_64    path: /usr/bin/crun    version: |-      crun version 1.19.1      commit: 3e32a70c93f5aa5fea69b50256cca7fd4aa23c80      rundir: /run/user/1000/crun      spec: 1.0.0      +SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +CRIU +LIBKRUN +WASM:wasmedge +YAJL">
    <meta itemprop="datePublished" content="2025-01-02T00:00:00-06:00">
    <meta itemprop="dateModified" content="2025-01-02T00:00:00-06:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://josecastillolema.github.io/podman-wasm-libkrun/" itemprop="url">Playing with Podman crun backends: Wasm(Edge) and libkrun
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          16 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
<li><a href="#wasm">Wasm</a></li>
<li><a href="#libkrun">libkrun</a></li>
<li><a href="#setup">Setup</a></li>
<li>
<a href="#results">Results</a><ul>
<li>
<a href="#with-podman">With podman</a><ul>
<li><a href="#image-size">Image size</a></li>
<li>
<a href="#resource-usage">Resource usage</a><ul>
<li>
<a href="#idle">Idle</a><ul>
<li><a href="#cpu">CPU</a></li>
<li><a href="#memory">Memory</a></li>
</ul>
</li>
<li>
<a href="#under-load">Under load</a><ul>
<li><a href="#cpu-1">CPU</a></li>
<li><a href="#memory-1">Memory</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#networking-performance">Networking performance</a><ul>
<li><a href="#requests-per-second">Requests per second</a></li>
<li><a href="#average-time-per-request">Average time per request</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
</ul>
</li>
<li>
<a href="#without-podman">Without podman</a><ul>
<li><a href="#wasmedge">Wasmedge</a></li>
<li><a href="#native">Native</a></li>
<li><a href="#summary-1">Summary</a></li>
<li><a href="#profiling">Profiling</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
          </aside>
        
        <p>Thanks to <a href="https://github.com/containers/crun">crun</a> we can run <a href="#wasm">WebAssembly (Wasm)</a> and <a href="#libkrun">libkrun</a> workloads in directly in Podman.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ podman info | grep crun -A 2
    name: crun
    package: crun-1.19.1-1.fc41.x86_64
    path: /usr/bin/crun
    version: |-
      crun version 1.19.1
      commit: 3e32a70c93f5aa5fea69b50256cca7fd4aa23c80
      rundir: /run/user/1000/crun
      spec: 1.0.0
      +SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +CRIU +LIBKRUN +WASM:wasmedge +YAJL
</code></pre></div></div>

<h2 id="wasm">Wasm</h2>

<p>WebAssembly (abbreviated Wasm) is a portable binary instruction format. It has gained popularity for its portability as a compilation target that enables deployment on the web for both client and server applications.</p>

<p>We can leverage the portability of Wasm to run Wasm workloads alongside Linux containers by combining crun and Podman. crun supports running Wasm workload by using <a href="https://wasmedge.org/">WasmEdge</a>, <a href="https://wasmtime.dev/">Wasmtime</a> or <a href="https://wasmer.io/">Wasmer</a> runtimes. WasmEdge is a lightweight, high-performance, and extensible WebAssembly runtime for cloud-native and edge applications.</p>

<p>To enable Wasm(Edge) applications through Podman in Fedora we need to:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rpm-ostree install wasmedge crun-wasm
</code></pre></div></div>

<p>To run Wasm applications though Podman:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ podman --runtime /usr/bin/crun-wasm run -dp 8080:8080 --platform=wasi/wasm -t --rm server-with-wasm
</code></pre></div></div>

<h2 id="libkrun">libkrun</h2>

<p><a href="https://github.com/containers/libkrun">libkrun</a> is a dynamic library that allows programs to easily acquire the ability to run processes in a partially isolated environment using KVM Virtualization on Linux and HVF on macOS/ARM64.</p>

<p>It integrates a VMM (Virtual Machine Monitor, the userspace side of an Hypervisor) with the minimum amount of emulated devices required to its purpose, abstracting most of the complexity that comes from Virtual Machine management, offering users a simple C API.</p>

<p><img src="/assets/images/posts/2025-01-02-podman-wasm-libkrun/1.webp" alt=""></p>

<p>libkrun enables <a href="https://virtee.io/the-case-for-confidential-workloads/">Confidential Workloads (CW)</a>, autonomous, mission specific workloads that run inside a dedicated Virtualization-based TEE. They may make use of a minimal kernel, or have one statically-linked to it (unikernel case), but they shouldn’t depend on any other binary components.</p>

<p>This model is useful to quickly run and deploy small container-based applications, typically with a single container. The driving factor for confidential workloads is quick startup time and reduced resource usage for higher density.</p>

<p>To leverage libkrun through Podman in Fedora we need to:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rpm-ostree install libkrun
</code></pre></div></div>

<p>To use the libkrun backend though Podman:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ podman run --annotation=run.oci.handler=krun -dp 8080:8080 -t --rm server-without-wasm
</code></pre></div></div>

<h2 id="setup">Setup</h2>

<p>For the comparison, we have used a <a href="https://github.com/josecastillolema/wasmedge-server">Simple Rust HTTP server</a> from the <a href="https://github.com/second-state/wasmedge-rustsdk-examples">WasmEdge Rust SDK examples</a> modified to run with and without WasmEdge, running locally on my laptop:</p>
<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nn">std</span><span class="p">::</span><span class="nn">net</span><span class="p">::</span><span class="n">SocketAddr</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">hyper</span><span class="p">::</span><span class="nn">server</span><span class="p">::</span><span class="nn">conn</span><span class="p">::</span><span class="n">Http</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">hyper</span><span class="p">::</span><span class="nn">service</span><span class="p">::</span><span class="n">service_fn</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">hyper</span><span class="p">::{</span><span class="n">Body</span><span class="p">,</span> <span class="n">Method</span><span class="p">,</span> <span class="n">Request</span><span class="p">,</span> <span class="n">Response</span><span class="p">,</span> <span class="n">StatusCode</span><span class="p">};</span>
<span class="k">use</span> <span class="nn">tokio</span><span class="p">::</span><span class="nn">net</span><span class="p">::</span><span class="n">TcpListener</span><span class="p">;</span>

<span class="cd">/// This is our service handler. It receives a Request, routes on its</span>
<span class="cd">/// path, and returns a Future of a Response.</span>
<span class="k">async</span> <span class="k">fn</span> <span class="nf">handle_request</span><span class="p">(</span><span class="n">req</span><span class="p">:</span> <span class="n">Request</span><span class="o">&lt;</span><span class="n">Body</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="nb">Result</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&lt;</span><span class="n">Body</span><span class="o">&gt;</span><span class="p">,</span> <span class="nn">hyper</span><span class="p">::</span><span class="n">Error</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">match</span> <span class="p">(</span><span class="n">req</span><span class="nf">.method</span><span class="p">(),</span> <span class="n">req</span><span class="nf">.uri</span><span class="p">()</span><span class="nf">.path</span><span class="p">())</span> <span class="p">{</span>
        <span class="c1">// Serve some instructions at /</span>
        <span class="p">(</span><span class="o">&amp;</span><span class="nn">Method</span><span class="p">::</span><span class="n">GET</span><span class="p">,</span> <span class="s">"/"</span><span class="p">)</span> <span class="k">=&gt;</span> <span class="nf">Ok</span><span class="p">(</span><span class="nn">Response</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="nn">Body</span><span class="p">::</span><span class="nf">from</span><span class="p">(</span>
            <span class="s">"Try POSTing data to /echo such as: `curl localhost:8080/echo -XPOST -d 'hello world'`"</span><span class="p">,</span>
        <span class="p">))),</span>

        <span class="c1">// Simply echo the body back to the client.</span>
        <span class="p">(</span><span class="o">&amp;</span><span class="nn">Method</span><span class="p">::</span><span class="n">POST</span><span class="p">,</span> <span class="s">"/echo"</span><span class="p">)</span> <span class="k">=&gt;</span> <span class="nf">Ok</span><span class="p">(</span><span class="nn">Response</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">req</span><span class="nf">.into_body</span><span class="p">())),</span>

        <span class="p">(</span><span class="o">&amp;</span><span class="nn">Method</span><span class="p">::</span><span class="n">POST</span><span class="p">,</span> <span class="s">"/echo/reversed"</span><span class="p">)</span> <span class="k">=&gt;</span> <span class="p">{</span>
            <span class="k">let</span> <span class="n">whole_body</span> <span class="o">=</span> <span class="nn">hyper</span><span class="p">::</span><span class="nn">body</span><span class="p">::</span><span class="nf">to_bytes</span><span class="p">(</span><span class="n">req</span><span class="nf">.into_body</span><span class="p">())</span><span class="k">.await</span><span class="o">?</span><span class="p">;</span>

            <span class="k">let</span> <span class="n">reversed_body</span> <span class="o">=</span> <span class="n">whole_body</span><span class="nf">.iter</span><span class="p">()</span><span class="nf">.rev</span><span class="p">()</span><span class="nf">.cloned</span><span class="p">()</span><span class="py">.collect</span><span class="p">::</span><span class="o">&lt;</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">u8</span><span class="o">&gt;&gt;</span><span class="p">();</span>
            <span class="nf">Ok</span><span class="p">(</span><span class="nn">Response</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="nn">Body</span><span class="p">::</span><span class="nf">from</span><span class="p">(</span><span class="n">reversed_body</span><span class="p">)))</span>
        <span class="p">}</span>

        <span class="c1">// Return the 404 Not Found for other routes.</span>
        <span class="n">_</span> <span class="k">=&gt;</span> <span class="p">{</span>
            <span class="k">let</span> <span class="k">mut</span> <span class="n">not_found</span> <span class="o">=</span> <span class="nn">Response</span><span class="p">::</span><span class="nf">default</span><span class="p">();</span>
            <span class="o">*</span><span class="n">not_found</span><span class="nf">.status_mut</span><span class="p">()</span> <span class="o">=</span> <span class="nn">StatusCode</span><span class="p">::</span><span class="n">NOT_FOUND</span><span class="p">;</span>
            <span class="nf">Ok</span><span class="p">(</span><span class="n">not_found</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nd">#[tokio::main(flavor</span> <span class="nd">=</span> <span class="s">"current_thread"</span><span class="nd">)]</span>
<span class="k">async</span> <span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="k">-&gt;</span> <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span> <span class="nb">Box</span><span class="o">&lt;</span><span class="k">dyn</span> <span class="nn">std</span><span class="p">::</span><span class="nn">error</span><span class="p">::</span><span class="n">Error</span> <span class="o">+</span> <span class="nb">Send</span> <span class="o">+</span> <span class="nb">Sync</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">addr</span> <span class="o">=</span> <span class="nn">SocketAddr</span><span class="p">::</span><span class="nf">from</span><span class="p">(([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mi">8080</span><span class="p">));</span>

    <span class="k">let</span> <span class="n">listener</span> <span class="o">=</span> <span class="nn">TcpListener</span><span class="p">::</span><span class="nf">bind</span><span class="p">(</span><span class="n">addr</span><span class="p">)</span><span class="k">.await</span><span class="o">?</span><span class="p">;</span>
    <span class="nd">println!</span><span class="p">(</span><span class="s">"Listening on http://{}"</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
    <span class="k">loop</span> <span class="p">{</span>
        <span class="k">let</span> <span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">listener</span><span class="nf">.accept</span><span class="p">()</span><span class="k">.await</span><span class="o">?</span><span class="p">;</span>

        <span class="nn">tokio</span><span class="p">::</span><span class="nn">task</span><span class="p">::</span><span class="nf">spawn</span><span class="p">(</span><span class="k">async</span> <span class="k">move</span> <span class="p">{</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nf">Err</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="o">=</span> <span class="nn">Http</span><span class="p">::</span><span class="nf">new</span><span class="p">()</span><span class="nf">.serve_connection</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="nf">service_fn</span><span class="p">(</span><span class="n">handle_request</span><span class="p">))</span><span class="k">.await</span> <span class="p">{</span>
                <span class="nd">println!</span><span class="p">(</span><span class="s">"Error serving connection: {:?}"</span><span class="p">,</span> <span class="n">err</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Dependencies with Wasm support look like:</p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[dependencies]</span>
<span class="nn">hyper_wasi</span> <span class="o">=</span> <span class="p">{</span> <span class="py">version</span> <span class="p">=</span> <span class="s">"0.15"</span><span class="p">,</span> <span class="py">features</span> <span class="p">=</span> <span class="nn">["full"]</span><span class="p">}</span>
<span class="nn">tokio_wasi</span> <span class="o">=</span> <span class="p">{</span> <span class="py">version</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">,</span> <span class="py">features</span> <span class="p">=</span> <span class="p">[</span><span class="s">"rt"</span><span class="p">,</span> <span class="s">"macros"</span><span class="p">,</span> <span class="s">"net"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">,</span> <span class="s">"io-util"</span><span class="p">]}</span>
</code></pre></div></div>

<p>And without:</p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[dependencies]</span>
<span class="nn">hyper</span> <span class="o">=</span> <span class="p">{</span> <span class="py">version</span> <span class="p">=</span> <span class="s">"0.14"</span><span class="p">,</span> <span class="py">features</span> <span class="p">=</span> <span class="nn">["full"]</span><span class="p">}</span>
<span class="nn">tokio</span> <span class="o">=</span> <span class="p">{</span> <span class="py">version</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">,</span> <span class="py">features</span> <span class="p">=</span> <span class="p">[</span><span class="s">"rt"</span><span class="p">,</span> <span class="s">"macros"</span><span class="p">,</span> <span class="s">"net"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">,</span> <span class="s">"io-util"</span><span class="p">]}</span>
</code></pre></div></div>

<p>The <a href="https://github.com/josecastillolema/wasmedge-server">repository</a> contains instructions to build, run, test and create container images for both scenarios.</p>

<h2 id="results">Results</h2>

<p>Let’s compare “normal” native containers, Wasm(Edge) and libkrun for several scenarios.</p>

<h3 id="with-podman">With podman</h3>

<h4 id="image-size">Image size</h4>

<p>Wasm image is 77% smaller than the usual container ones. To keep the without-wasm image minimal we have leveraged <a href="https://musl.libc.org/">musl</a>, a minimal C library that is often used on embedded systems and other environments where a full-featured library like glibc is not available.</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoieHljaGFydC1iZXRhXG50aXRsZSBcIkltYWdlIHNpemVcIlxueC1heGlzIFtwb2RtYW4sIHdhc21lZGdlLCBsaWJrcnVuXVxueS1heGlzIFwiU2l6ZSAoTUJzKVwiIDAgLS0-IDVcbmJhciBbNC45MywgMS4xNywgNC45M10iLCJtZXJtYWlkIjpudWxsfQ"></p>

<h4 id="resource-usage">Resource usage</h4>

<h5 id="idle">Idle</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ podman stats
ID            NAME        CPU %       MEM USAGE / LIMIT  MEM %       NET IO      BLOCK IO      PIDS        CPU TIME    AVG CPU %
241deb12adf5  podman      0.01%       208.9kB / 67.1GB   0.00%       0B / 726B   0B / 0B       1           3.915ms     0.01%
a568ddf0f97b  wasmedge    0.04%       26.35MB / 67.1GB   0.04%       0B / 796B   0B / 0B       1           30.242ms    0.04%
f906858667d5  libkrun     3.15%       101.5MB / 67.1GB   0.15%       0B / 656B   0B / 4.096kB  17          901.204ms   3.15%
</code></pre></div></div>

<h6 id="cpu">CPU</h6>

<p>libkrun presents a slightly higher CPU usage (and much more PIDs in use).</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoieHljaGFydC1iZXRhXG50aXRsZSBcIkNQVSB1c2FnZVwiXG54LWF4aXMgW3BvZG1hbiwgd2FzbWVkZ2UsIGxpYmtydW5dXG55LWF4aXMgXCJDUFUgKCUpXCIgMCAtLT4gNFxuYmFyIFswLjAxLCAwLjA0LCAzLjE1XSIsIm1lcm1haWQiOm51bGx9"></p>

<h6 id="memory">Memory</h6>

<p>Native podman container memory consumption is less than a quarter MB. Wasmedge consumes over 25 MBs (x126) and libkrun over 100 MBs (x487).</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoieHljaGFydC1iZXRhXG50aXRsZSBcIk1lbW9yeSB1c2FnZVwiXG54LWF4aXMgW3BvZG1hbiwgd2FzbWVkZ2UsIGxpYmtydW5dXG55LWF4aXMgXCJNZW1vcnkgKE1CcylcIiAwIC0tPiAxMjBcbmJhciBbMC4yLCAyNi4zNSwgMTAxLjRdIiwibWVybWFpZCI6bnVsbH0"></p>

<h5 id="under-load">Under load</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ podman stats
ID            NAME        CPU %       MEM USAGE / LIMIT  MEM %       NET IO        BLOCK IO      PIDS        CPU TIME     AVG CPU %
241deb12adf5  podman      57.34%      417.8kB / 67.1GB   0.00%       0B / 1.216kB  0B / 0B       1           13.879976s   0.13%
110f88177027  wasmedge    98.57%      26.6MB  / 67.1GB   0.04%       0B / 656B     0B / 0B       1           6.130282s    27.35%
f906858667d5  libkrun     255.08%     109.1MB / 67.1GB   0.16%       0B / 1.146kB  0B / 4.096kB  17          1m4.485238s  0.66%
</code></pre></div></div>

<h6 id="cpu-1">CPU</h6>

<p>Native podman containers consume approximately half core. WasmEdge container takes almost a full core. Libkrun consumes over 2.5 cores.</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoieHljaGFydC1iZXRhXG50aXRsZSBcIkNQVSB1c2FnZVwiXG54LWF4aXMgW3BvZG1hbiwgd2FzbWVkZ2UsIGxpYmtydW5dXG55LWF4aXMgXCJDUFUgKCUpXCIgMCAtLT4gMzAwXG5iYXIgWzU3LCA5OCwgMjU1XSIsIm1lcm1haWQiOm51bGx9"></p>

<h6 id="memory-1">Memory</h6>

<p>There are no major variations from the memory perspective compared to the idle scenario.</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoieHljaGFydC1iZXRhXG50aXRsZSBcIk1lbW9yeSB1c2FnZVwiXG54LWF4aXMgW3BvZG1hbiwgd2FzbWVkZ2UsIGxpYmtydW5dXG55LWF4aXMgXCJNZW1vcnkgKE1CcylcIiAwIC0tPiAxMjBcbmJhciBbMC40LCAyNi42LCAxMDkuMV0iLCJtZXJtYWlkIjpudWxsfQ"></p>

<h4 id="networking-performance">Networking performance</h4>

<p>To compare networking performance among the three solutions we have used <a href="https://github.com/fcsonline/drill">Drill</a>, a HTTP load testing application written in Rust. The <a href="https://github.com/josecastillolema/wasmedge-server/blob/main/drill-benchmark.yml">benchmark file</a> can be found in the repository and generates 85 byte HTTP GETs and POSTs calls:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ drill --benchmark drill-benchmark.yml --stats
...
Time taken for tests      44.0 seconds
Total requests            2000000
Successful requests       2000000
Failed requests           0
Requests per second       45475.02 [#/sec]
Median time per request   0ms
Average time per request  0ms
Sample standard deviation 0ms
99.0'th percentile        0ms
99.5'th percentile        0ms
99.9'th percentile        1ms
</code></pre></div></div>

<h5 id="requests-per-second">Requests per second</h5>

<p>The WasmEdge podman container becomes unresponsive after some time. Even so, it only achieves a 4% rate compared with the native podman container solution.</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoieHljaGFydC1iZXRhXG50aXRsZSBcIlJlcXVlc3RzIHBlciBzZWNvbmRcIlxueC1heGlzIFtwb2RtYW4sIHdhc21lZGdlLCBsaWJrcnVuXVxueS1heGlzIFwiUlBTICgjL3NlYylcIiAwIC0tPiA4MDAwMFxuYmFyIFs2NTQ0OSwgMjY2MywgNDU0NzVdIiwibWVybWFpZCI6bnVsbH0"></p>

<h5 id="average-time-per-request">Average time per request</h5>

<p>The WasmEdge podman container presents the worst latency even delivering only 4% of the request compared with the native container solution.</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoieHljaGFydC1iZXRhXG50aXRsZSBcIkF2ZXJhZ2UgdGltZSBwZXIgcmVxdWVzdFwiXG54LWF4aXMgW3BvZG1hbiwgd2FzbWVkZ2UsIGxpYmtydW5dXG55LWF4aXMgXCJBdmVyYWdlIHRpbWUgKG1zKVwiIDAgLS0-IDVcbmJhciBbMCwgNCwgMF0iLCJtZXJtYWlkIjpudWxsfQ"></p>

<h4 id="summary">Summary</h4>

<p>The <strong>podman</strong> native container solution presented the best overall results as expected.</p>

<p><strong>libkrun</strong> has great network performance, and incurs in some resource overhead as expected of an hybrid virtualization solution. For networking, it implements <code class="language-plaintext highlighter-rouge">virtio-vsock+TSI</code>, an experimental mechanism that provides inbound and outbound networking capabilities to the guest, with zero-configuration and minimal footprint, by transparently replacing user-space <code class="language-plaintext highlighter-rouge">AF_INET</code> sockets with <code class="language-plaintext highlighter-rouge">AF_TSI</code>, implementing both <code class="language-plaintext highlighter-rouge">AF_INET</code> and <code class="language-plaintext highlighter-rouge">AF_VSOCK</code> sockets. TSI has the additional advantage that, for the host side, all connections appear to come and go to the process acting as a VMM, which makes it very container-friendly in a way that even side-cars (such as Istio) work out-of-the-box.</p>

<p>The <strong>WasmEdge</strong> solution presents a very acceptable resource consumption (and the best image size), however the networking performance is only a 4% compared to native podman and the application becomes unresponsive under heavy load.</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoicXVhZHJhbnRDaGFydFxudGl0bGUgU3VtbWFyeVxucXVhZHJhbnQtMSBSUFNcbnF1YWRyYW50LTIgTGF0ZW5jeVxucXVhZHJhbnQtMyBDUFVcbnF1YWRyYW50LTQgTWVtb3J5XG4lJSBycHNcbnBvZG1hbjogWzAuOTIsIDAuOTJdXG53YXNtZWRnZTogWzAuNTcsIDAuNTM2XVxubGlia3J1bjogWzAuOCwgMC44XVxuJSUgbGF0ZW5jeVxucG9kbWFuOiBbMC40LCAwLjldXG53YXNtZWRnZTogWzAuMDcsIDAuNTM2XVxubGlia3J1bjogWzAuMzUsIDAuODVdXG4lJSBDUFVcbnBvZG1hbjogWzAuNDIsIDAuNDJdXG53YXNtZWRnZTogWzAuMzUsIDAuMzVdXG5saWJrcnVuOiBbMC4xLCAwLjFdXG4lJSBtZW1vcnlcbnBvZG1hbjogWzAuOTIsIDAuNDJdXG53YXNtZWRnZTogWzAuOCwgMC4zXVxubGlia3J1bjogWzAuNTUsIDAuMDVdIiwibWVybWFpZCI6bnVsbH0"></p>

<h3 id="without-podman">Without podman</h3>

<p>Wasm is often described as having “near-native performance”. Let’s remove podman from the equation to see if we observe a better networking performance.</p>

<h4 id="wasmedge">Wasmedge</h4>

<p>To build locally the WasmEdge enabled served:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rustup target add wasm32-wasi
$ cargo build --target wasm32-wasi --release
</code></pre></div></div>

<p>Run the Wasm bytecode file in WasmEdge CLI.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ wasmedge target/wasm32-wasi/release/server-with-wasm.wasm
Listening on http://0.0.0.0:8080
</code></pre></div></div>

<p>And run the test:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ drill --benchmark drill-benchmark.yml --stats
...
Time taken for tests      91.4 seconds
Total requests            200000
Successful requests       200000
Failed requests           0
Requests per second       2188.77 [#/sec]
Median time per request   5ms
Average time per request  5ms
Sample standard deviation 2ms
99.0'th percentile        9ms
99.5'th percentile        10ms
99.9'th percentile        10ms
</code></pre></div></div>

<p>While the server did not become unresponsive and sustained a longer test, the RPS result is similar to the podman one.</p>

<h4 id="native">Native</h4>

<p>Compile the Rust server source code:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rustup target add x86_64-unknown-linux-musl
$ cargo build --target x86_64-unknown-linux-musl --release
</code></pre></div></div>

<p>Run the server:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./target/x86_64-unknown-linux-musl/release/server-without-wasm
Listening on http://0.0.0.0:8080
</code></pre></div></div>

<p>And run the test:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ drill --benchmark drill-benchmark.yml --stats
...
Time taken for tests      23.0 seconds
Total requests            2000000
Successful requests       2000000
Failed requests           0
Requests per second       86970.22 [#/sec]
Median time per request   0ms
Average time per request  0ms
Sample standard deviation 0ms
99.0'th percentile        0ms
99.5'th percentile        0ms
99.9'th percentile        0ms
</code></pre></div></div>

<p>We observe some podman overhead (approximately 30%).</p>

<h4 id="summary-1">Summary</h4>

<p>Podman is not responsible for the poor networking performance of the Wasmedge enabled server.</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoieHljaGFydC1iZXRhXG50aXRsZSBcIlJlcXVlc3RzIHBlciBzZWNvbmRcIlxueC1heGlzIFtwb2RtYW4sIG5hdGl2ZSwgcG9kbWFuLXdhc20sIHdhc21dXG55LWF4aXMgXCJSUFMgKCMvc2VjKVwiIDAgLS0-IDkwMDAwXG5iYXIgWzY1NDQ5LCA4Njk3MCwgMjY2MywgMjE4OF0iLCJtZXJtYWlkIjpudWxsfQ"></p>

<p>Looking at this nice article about the <a href="https://00f.net/2023/01/04/webassembly-benchmark-2023/">Performance of WebAssembly runtimes in 2023</a> it does not look that Wasmedge is a slow runtime compared to the median performance. If you’re looking for the best performer, looks like <a href="https://github.com/bytecodealliance/wasm-micro-runtime">iwasm</a> is currently the one to choose, but overall Wasmtime, WasmEdge and Wasmer (supported by crun) are in the same ballpark and have a decent performance.</p>

<p>A quick look at the <code class="language-plaintext highlighter-rouge">wasmedge</code> CLI options shows an option that could be of interest for this particular use case, however no significant performance improvement was observed with it:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ wasmedge -h
...
--enable-threads
                Enable Threads proposal
...
</code></pre></div></div>

<h4 id="profiling">Profiling</h4>

<p>At this point, the performance hit looks to be due to 1) the Wasm runtime or 2) the Wasm ported libraries (<code class="language-plaintext highlighter-rouge">hyper_wasi</code> and <code class="language-plaintext highlighter-rouge">tokio_wasi</code>). Let’s take a closer look using flame graphs.</p>

<p>To profile a release build effectively we need to enable source line debug info. To do this, add the following lines to the <code class="language-plaintext highlighter-rouge">Cargo.toml</code> file:</p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[profile.release]</span>
<span class="py">debug</span> <span class="p">=</span> <span class="mi">1</span>
</code></pre></div></div>

<p>Build and run again the server, clone the <a href="https://github.com/brendangregg/FlameGraph">FlameGraph repository</a> and for convenience put it on your path:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ perf record -F 99 -p [pid of server-with-wasm] --call-graph dwarf -- curl localhost:8080
$ perf script &gt; server-with-wasm.perf
$ stackcollapse-perf.pl server-with-wasm.perf &gt; server-with-wasm.folded
$ flamegraph.pl server-with-wasm.folded &gt; server-with-wasm.sv
</code></pre></div></div>

<p>This is the resulting flame graph. It looks like most of the time is spent on <code class="language-plaintext highlighter-rouge">libwasmedge.so</code> calls:
<img src="/assets/images/posts/2025-01-02-podman-wasm-libkrun/2.svg" alt=""></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#dev" class="page__taxonomy-item p-category" rel="tag">dev</a><span class="sep">, </span>
    
      <a href="/tags/#en" class="page__taxonomy-item p-category" rel="tag">en</a><span class="sep">, </span>
    
      <a href="/tags/#redhat" class="page__taxonomy-item p-category" rel="tag">redhat</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-01-02">January 2, 2025</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?text=Playing+with+Podman+crun+backends%3A+Wasm%28Edge%29+and+libkrun%20https%3A%2F%2Fjosecastillolema.github.io%2Fpodman-wasm-libkrun%2F" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fjosecastillolema.github.io%2Fpodman-wasm-libkrun%2F" class="btn btn--facebook" aria-label="Share on Facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook">
    <i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://josecastillolema.github.io/podman-wasm-libkrun/" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

  <a href="https://bsky.app/intent/compose?text=Playing+with+Podman+crun+backends%3A+Wasm%28Edge%29+and+libkrun%20https%3A%2F%2Fjosecastillolema.github.io%2Fpodman-wasm-libkrun%2F" class="btn btn--bluesky" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Bluesky">
    <i class="fab fa-fw fa-bluesky" aria-hidden="true"></i><span> Bluesky</span>
  </a>
</section>


      
  <nav class="pagination">
    
      <a href="/newyear25/" class="pagination--pager" title="Happy new year!">Previous</a>
    
    
      <a href="/lf-opentelemetry/" class="pagination--pager" title="Getting Started with OpenTelemetry (LFS148)">Next</a>
    
  </nav>


    </div>

    
      
        <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comments</h4>
      <section id="disqus_thread"></section>
    
</div>

      
    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You May Also Enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/favicon_io/android-chrome-512x512.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/icpe25/" rel="permalink">ICPE 2025
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">ICPE ‘25: Proceedings of the 16th ACM/SPEC International Conference on Performance Engineering

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/favicon_io/android-chrome-512x512.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/lf-backstage/" rel="permalink">Introduction to Backstage - Developer Portals Made Easy (LFS142)
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/favicon_io/android-chrome-512x512.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/lf-opentelemetry/" rel="permalink">Getting Started with OpenTelemetry (LFS148)
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/favicon_io/android-chrome-512x512.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/newyear25/" rel="permalink">Happy new year!
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/josecastillolema" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/jose-castillo-lema" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://stackoverflow.com/users/4288758/jos%c3%a9-castillo-lema" rel="nofollow noopener noreferrer"><i class="fab fa-stack-overflow" aria-hidden="true"></i> Stack Overflow</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">© 2025 <a href="https://josecastillolema.github.io">GitOps</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'G-1EBHNQEGXG']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>






    
  <script>
    var disqus_config = function () {
      this.page.url = "https://josecastillolema.github.io/podman-wasm-libkrun/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/podman-wasm-libkrun"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://https-josecastillolema-github-io.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>


  





  </body>
</html>
